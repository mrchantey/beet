[package]
name = "beet_utils"
version.workspace = true
edition.workspace = true
license.workspace = true
authors.workspace = true
readme.workspace = true
description = "Absolute base level utility crate"
documentation.workspace = true
repository.workspace = true
categories.workspace = true
keywords.workspace = true

[features]
tokens = ["dep:proc-macro2","dep:syn"]
fs = ["dep:crossterm","dep:async-fs","dep:futures-lite"]
serde = ["dep:serde","dep:serde_json"]

[dependencies]
glob.workspace = true
clap.workspace = true
bevy.workspace = true
extend.workspace = true
thiserror.workspace = true
path-clean = "1"
pathdiff = "0.2"

serde = { workspace = true, optional = true }
serde_json = { workspace = true, optional = true }

syn = { workspace = true, optional = true }
proc-macro2 = { workspace = true, optional = true }

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
async-fs = { workspace = true, optional = true }
futures-lite = { workspace = true, optional = true }
crossterm = { version = "0.28", optional = true }

[target.'cfg(target_arch = "wasm32")'.dependencies]
wasm-bindgen.workspace = true
js-sys.workspace = true
web-sys = { workspace = true, features = ["Window", "console", "Performance"] }


[target.'cfg(not(target_arch = "wasm32"))'.dev-dependencies]
tokio.workspace = true

[dev-dependencies]
bevy = {workspace = true, features=["reflect_auto_register"]}
# abs_path serde roundtrip
serde_json.workspace = true
